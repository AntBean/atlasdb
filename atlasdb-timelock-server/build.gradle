apply from: "../gradle/shared.gradle"

apply plugin: 'com.palantir.java-distribution'
apply plugin: 'org.inferred.processors'

dependencies {
    compile project(":timestamp-api")
    compile project(":lock-impl")

    compile group: 'com.palantir.remoting', name: 'ssl-config'
    compile group: 'io.atomix', name: 'atomix-all'
    compile group: 'io.dropwizard', name: 'dropwizard-core'

    processor group: 'org.immutables', name: 'value'

    testCompile project(':atlasdb-config')

    testCompile group: 'io.dropwizard', name: 'dropwizard-testing'
    testCompile group: 'org.assertj', name: 'assertj-core'
}

distribution {
    serviceName 'atlasdb-timelock-server'
    mainClass 'com.palantir.atlasdb.timelock.TimeLockServer'
    args 'server', 'var/conf/timelock.yml'
}
